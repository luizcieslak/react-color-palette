"use client"
"use strict";var _=Object.create;var k=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var G=(r,e)=>{for(var o in e)k(r,o,{get:e[o],enumerable:!0})},D=(r,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of W(e))!q.call(r,s)&&s!==o&&k(r,s,{get:()=>e[s],enumerable:!(t=O(e,s))||t.enumerable});return r};var M=(r,e,o)=>(o=r!=null?_(X(r)):{},D(e||!r||!r.__esModule?k(o,"default",{value:r,enumerable:!0}):o,r)),U=r=>D(k({},"__esModule",{value:!0}),r);var V={};G(V,{Alpha:()=>S,ColorPicker:()=>j,ColorService:()=>p,Hue:()=>T,Saturation:()=>w,useColor:()=>z});module.exports=U(V);var y=M(require("react"));function x(r,e){return Array.isArray(r)?r.includes(e):r}var v=M(require("react"));var g=require("react");function I(){let r=(0,g.useRef)(null),[e,o]=(0,g.useState)(0),t=(0,g.useCallback)(()=>o(i=>i+1),[]);(0,g.useLayoutEffect)(()=>{window.addEventListener("resize",t,!1);let i=new ResizeObserver(t);return r.current&&i.observe(r.current),()=>{window.removeEventListener("resize",t,!1),i.disconnect()}},[t]);let s=(0,g.useMemo)(()=>{let{width:i=1,height:a=1}=r.current?.getBoundingClientRect()??{};return{width:i,height:a}},[e]),n=(0,g.useCallback)(()=>{let{left:i=1,right:a=1,top:c=1,bottom:u=1}=r.current?.getBoundingClientRect()??{};return{left:i,right:a,top:c,bottom:u}},[]);return[r,s,n]}function E(r,e,o){return r<e?e:r>o?o:r}var F=class{convert(e,o){let t=this.toHex("#000000"),s=this.hex2rgb(t),n=this.rgb2hsv(s);if(e==="hex"){let i=o;t=this.toHex(i),s=this.hex2rgb(t),t.startsWith("rgba")&&(s=this.toRgb(t),t=this.rgb2hex(s)),n=this.rgb2hsv(s)}else e==="rgb"?(s=o,t=this.rgb2hex(s),n=this.rgb2hsv(s)):e==="hsv"&&(n=o,s=this.hsv2rgb(n),t=this.rgb2hex(s));return{hex:t,rgb:s,hsv:n}}toHex(e){if(e.startsWith("#")){if(e.length===4||e.length===5)return e=e.split("").map((o,t)=>t?t<4?o+o:o==="f"?void 0:o+o:"#").join(""),e;if(e.length===7)return e;if(e.length===9)return e.endsWith("ff")?e.slice(0,7):e}else{let o=document.createElement("canvas").getContext("2d");if(!o)throw new Error("2d context not supported or canvas already initialized");return o.fillStyle=e,o.fillStyle}return"#000000"}toRgb(e){let o=e.match(/\d+(\.\d+)?/gu)??[],[t,s,n,i]=Array.from({length:4}).map((a,c)=>E(+(o[c]??(c<3?0:1)),0,c<3?255:1));return{r:t,g:s,b:n,a:i}}toHsv(e){let o=e.match(/\d+(\.\d+)?/gu)??[],[t,s,n,i]=Array.from({length:4}).map((a,c)=>E(+(o[c]??(c<3?0:1)),0,c?c<3?100:1:360));return{h:t,s,v:n,a:i}}hex2rgb(e){e=e.slice(1);let[o,t,s,n]=Array.from({length:4}).map((i,a)=>parseInt(e.slice(a*2,a*2+2),16));return n=Number.isNaN(n)?1:n/255,{r:o,g:t,b:s,a:n}}rgb2hsv({r:e,g:o,b:t,a:s}){e/=255,o/=255,t/=255;let n=Math.max(e,o,t),i=n-Math.min(e,o,t),a=i?(n===e?(o-t)/i+(o<t?6:0):n===o?2+(t-e)/i:4+(e-o)/i)*60:0,c=n?i/n*100:0,u=n*100;return{h:a,s:c,v:u,a:s}}hsv2rgb({h:e,s:o,v:t,a:s}){o/=100,t/=100;let n=~~(e/60),i=e/60-n,a=t*(1-o),c=t*(1-o*i),u=t*(1-o*(1-i)),l=n%6,h=[t,c,a,a,u,t][l]*255,d=[u,t,t,c,a,a][l]*255,b=[a,a,u,t,t,c][l]*255;return{r:h,g:d,b,a:s}}rgb2hex({r:e,g:o,b:t,a:s}){let[n,i,a,c]=[e,o,t,s].map((u,l)=>Math.round(l<3?u:u*255).toString(16).padStart(2,"0"));return["#",n,i,a,c==="ff"?void 0:c].join("")}},p=new F;var H=M(require("react"));var P=(0,H.memo)(({onCoordinateChange:r,children:e,disabled:o})=>{let[t,{width:s,height:n},i]=I(),a=(0,H.useCallback)((u,l=!1)=>{let{left:h,top:d}=i(),b=E(u.clientX-h,0,s),N=E(u.clientY-d,0,n);r(b,N,l)},[s,n,i,r]),c=(0,H.useCallback)(u=>{if(u.button!==0)return;a(u);let l=d=>{a(d)},h=d=>{a(d,!0),document.removeEventListener("pointermove",l,!1),document.removeEventListener("pointerup",h,!1)};document.addEventListener("pointermove",l,!1),document.addEventListener("pointerup",h,!1)},[a]);return H.default.createElement("div",{ref:t,className:"rcp-interactive",style:{cursor:o?"not-allowed":"move"},onPointerDown:o?void 0:c},e)});var S=(0,v.memo)(({color:r,onChange:e,onChangeComplete:o,disabled:t})=>{let[s,{width:n}]=I(),i=(0,v.useMemo)(()=>({x:r.hsv.a*n}),[r.hsv.a,n]),a=(0,v.useCallback)((l,h,d)=>{let b=p.convert("hsv",{...r.hsv,a:l/n});e(b),d&&o?.(b)},[r.hsv,n,e,o]),c=(0,v.useMemo)(()=>[r.rgb.r,r.rgb.g,r.rgb.b].join(" "),[r.rgb.r,r.rgb.g,r.rgb.b]),u=(0,v.useMemo)(()=>[c,r.rgb.a].join(" / "),[c,r.rgb.a]);return v.default.createElement(P,{onCoordinateChange:a,disabled:t},v.default.createElement("div",{ref:s,style:{background:`linear-gradient(to right, rgb(${c} / 0), rgb(${c} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},v.default.createElement("div",{style:{left:i.x,background:`linear-gradient(to right, rgb(${u}), rgb(${u})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-i.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});var m=M(require("react"));function A(r,e){return Math.round(r*10**e)/10**e}function B({r,g:e,b:o,a:t}){let s=[Math.round(r),Math.round(e),Math.round(o)],n=A(t,3);return n<1&&s.push(n),s.join(", ")}function R({h:r,s:e,v:o,a:t}){let s=[`${Math.round(r)}\xB0`,`${Math.round(e)}%`,`${Math.round(o)}%`],n=A(t,3);return n<1&&s.push(n),s.join(", ")}var $=(0,m.memo)(({hideInput:r,color:e,onChange:o,onChangeComplete:t,disabled:s})=>{let[n,i]=(0,m.useState)({hex:{value:e.hex,inputted:!1},rgb:{value:B(e.rgb),inputted:!1},hsv:{value:R(e.hsv),inputted:!1}});(0,m.useEffect)(()=>{n.hex.inputted||i(l=>({...l,hex:{...l.hex,value:e.hex}}))},[n.hex.inputted,e.hex]),(0,m.useEffect)(()=>{n.rgb.inputted||i(l=>({...l,rgb:{...l.rgb,value:B(e.rgb)}}))},[n.rgb.inputted,e.rgb]),(0,m.useEffect)(()=>{n.hsv.inputted||i(l=>({...l,hsv:{...l.hsv,value:R(e.hsv)}}))},[n.hsv.inputted,e.hsv]);let a=(0,m.useCallback)(l=>h=>{let{value:d}=h.target;i(b=>({...b,[l]:{...b[l],value:d}})),o(l==="hsv"?p.convert("hsv",p.toHsv(d)):l==="rgb"?p.convert("rgb",p.toRgb(d)):p.convert("hex",d))},[o]),c=(0,m.useCallback)(l=>()=>{i(h=>({...h,[l]:{...h[l],inputted:!0}}))},[]),u=(0,m.useCallback)(l=>h=>{let{value:d}=h.target;i(b=>({...b,[l]:{...b[l],inputted:!1}})),t?.(l==="hsv"?p.convert("hsv",p.toHsv(d)):l==="rgb"?p.convert("rgb",p.toRgb(d)):p.convert("hex",d))},[t]);return m.default.createElement("div",{className:"rcp-fields"},!x(r,"hex")&&m.default.createElement("div",{className:"rcp-fields-floor"},m.default.createElement("div",{className:"rcp-field"},m.default.createElement("input",{id:"hex",className:"rcp-field-input",value:n.hex.value,disabled:s,onChange:a("hex"),onFocus:c("hex"),onBlur:u("hex")}),m.default.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!x(r,"rgb")||!x(r,"hsv"))&&m.default.createElement("div",{className:"rcp-fields-floor"},!x(r,"rgb")&&m.default.createElement("div",{className:"rcp-field"},m.default.createElement("input",{id:"rgb",className:"rcp-field-input",value:n.rgb.value,disabled:s,onChange:a("rgb"),onFocus:c("rgb"),onBlur:u("rgb")}),m.default.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!x(r,"hsv")&&m.default.createElement("div",{className:"rcp-field"},m.default.createElement("input",{id:"hsv",className:"rcp-field-input",value:n.hsv.value,disabled:s,onChange:a("hsv"),onFocus:c("hsv"),onBlur:u("hsv")}),m.default.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))});var C=M(require("react"));var T=(0,C.memo)(({color:r,onChange:e,onChangeComplete:o,disabled:t})=>{let[s,{width:n}]=I(),i=(0,C.useMemo)(()=>({x:r.hsv.h/360*n}),[r.hsv.h,n]),a=(0,C.useCallback)((u,l,h)=>{let d=p.convert("hsv",{...r.hsv,h:u/n*360});e(d),h&&o?.(d)},[r.hsv,n,e,o]),c=(0,C.useMemo)(()=>[r.hsv.h,"100%","50%"].join(" "),[r.hsv.h]);return C.default.createElement(P,{onCoordinateChange:a,disabled:t},C.default.createElement("div",{ref:s,className:"rcp-hue"},C.default.createElement("div",{style:{left:i.x,backgroundColor:`hsl(${c})`},className:"rcp-hue-cursor"})))});var f=M(require("react"));var w=(0,f.memo)(({height:r,color:e,onChange:o,onChangeComplete:t,disabled:s})=>{let[n,{width:i}]=I(),a=(0,f.useMemo)(()=>{let h=e.hsv.s/100*i,d=(100-e.hsv.v)/100*r;return{x:h,y:d}},[e.hsv.s,e.hsv.v,i,r]),c=(0,f.useCallback)((h,d,b)=>{let N=p.convert("hsv",{...e.hsv,s:h/i*100,v:100-d/r*100});o(N),b&&t?.(N)},[e.hsv,i,r,o,t]),u=(0,f.useMemo)(()=>[e.hsv.h,"100%","50%"].join(" "),[e.hsv.h]),l=(0,f.useMemo)(()=>[e.rgb.r,e.rgb.g,e.rgb.b].join(" "),[e.rgb.r,e.rgb.g,e.rgb.b]);return f.default.createElement(P,{onCoordinateChange:c,disabled:s},f.default.createElement("div",{ref:n,style:{height:r,backgroundColor:`hsl(${u})`},className:"rcp-saturation"},f.default.createElement("div",{style:{left:a.x,top:a.y,backgroundColor:`rgb(${l})`},className:"rcp-saturation-cursor"})))});var j=(0,y.memo)(({height:r=200,hideAlpha:e=!1,hideInput:o=!1,color:t,onChange:s,onChangeComplete:n,disabled:i=!1})=>y.default.createElement("div",{className:"rcp-root rcp"},y.default.createElement(w,{height:r,color:t,onChange:s,onChangeComplete:n,disabled:i}),y.default.createElement("div",{className:"rcp-body"},y.default.createElement("section",{className:"rcp-section"},y.default.createElement(T,{color:t,onChange:s,onChangeComplete:n,disabled:i}),!e&&y.default.createElement(S,{color:t,onChange:s,onChangeComplete:n,disabled:i})),(!x(o,"hex")||!x(o,"rgb")||!x(o,"hsv"))&&y.default.createElement("section",{className:"rcp-section"},y.default.createElement($,{hideInput:o,color:t,onChange:s,disabled:i})))));var L=require("react");function z(r){let[e,o]=(0,L.useState)(p.convert("hex",r));return(0,L.useEffect)(()=>{o(p.convert("hex",r))},[r]),[e,o]}0&&(module.exports={Alpha,ColorPicker,ColorService,Hue,Saturation,useColor});
